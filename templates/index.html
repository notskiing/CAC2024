<!doctype html>
<html lang="en">

{%import "macros.html" as macros%}
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home: swapz</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        h1 {
            font-size: calc(1.525rem + 3.3vw);
        }
        body {
            background-color: #000000;
            font-family: "IBM Plex Sans JP", sans-serif;
        }
        .navbar {
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .card {
            border: none;
            box-shadow: 0 2px 12px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        .card:hover {
            transform: scale(1.02);
        }
        .card-img-top {
            border-color: black;
            height: 200px;
            width: 200px;
            object-fit: cover;
            align-items: center;
            align-self: center;
        }
        .card-title {
            font-weight: 600;
        }
        .ibm-plex-sans-jp-regular {
            font-family: "IBM Plex Sans JP", sans-serif;
            font-weight: 400;
            font-style: normal;
        }

        .white {
            color: white;
        }
    </style>

</head>

<body>

    {{macros.navbar()}}

    <div class="text-center cover-container d-flex p-3 col-md-8 mx-auto flex-column">
        <div>
            <img src="static/background_image_v3.gif" width="100%" height="100%" style="align-self: center !important;">
        </div>
        <!-- <h5 style="color: white;">Swapz is a dress marketplace for Sonoma Academy students in Santa Rosa, California.</h5> -->
        <!-- <h4 style="color: white;">SEE THE DRESSES</h4> -->
         <!-- still need to fix this in the future -->
        <h6 style="color: white;">Swapz is only for Sonoma Academy students. Max $30.</h6>
        <div class="album py-5">
            <div class="container">
              <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                {%for post in data%}
                <div class="col">
                  <div class="card shadow-sm h-100 mx-auto">
                    <br>
                    <img class="bd-placeholder-img card-img-top" src="data:image/jpg;base64,{{post['image']}}" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" data-bs-toggle="modal" data-bs-target="#imageModal"
                    onclick="showModalImage(this.src)"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect></img>
                    <div class="card-body">
                      <h3>{{post['title']}}</h3>
                      <small class="card-text">{{post['post']}}</small>
                      <small class="text-body-secondary">from {{post['name']}}</small>
                      <br>
                      <br>
                      <small class="text-body-secondary">${{post['price']}} 路 {{post['color']}} 路 {{post['size']}} </small>
                      <br>
                      <br>
                      <div class="btn-group align-items-center">
                        <a type="button" class="btn btn-sm btn-outline-secondary align-self-center" href="mailto:{{post['name']}}@sonomaacademy.org?subject={{post['title']}}" class="btn btn-sm btn-outline-secondary">contact vendor</a>
                      </div>
                      <br>
                      <br>
                      <small class="text-body-secondary">{{post['time'] | datetimefilter}}</small>
                    </div>
                  </div>
                </div>
                <!-- Modal -->
                <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content">
                        <div class="modal-body">
                        <img id="modalImage" src="data:image/jpg;base64,{{post['image']}}" class="img-fluid rounded" alt="Large View">
                        </div>
                    </div>
                    </div>
                </div>  
                {%endfor%}
              </div>
            </div>
          </div>
        <a class="link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover" href="/create"><h4 style="color: white;">POST YOUR OWN</h4></a>
                    <!-- <div id="carousel-dresses-1" class="carousel slide">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <h3 width="10px">Sample text</h3>
                    </div>
                    {%for post in data%}
                    <div class="carousel-item">
                        <h5>{{post['title']}}</h5>
                        <div class="card shadow-smp-3 mx-auto align-self-center h-25" style="align-self: center; align-items: center;">
                            <img class="bd-placeholder-img card-img-top" style="width: 10%; height: 10%;" src="data:image/jpg;base64,{{post['image']}}" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect>
                            <div class="card-body">
                              <h3>{{post['title']}}</h3>
                              <small class="card-text">{{post['post']}}</small>
                              <small class="text-body-secondary">from {{post['name']}}</small>
                              <br>
                              <small class="text-body-secondary">${{post['price']}} 路 {{post['color']}} 路 {{post['size']}} </small>
                              <br>
                              <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                  <button type="button" class="btn btn-sm btn-outline-secondary">save for later</button>
                                  <a type="button" href="mailto:{{post['name']}}@sonomaacademy.org?subject={{post['title']}}" class="btn btn-sm btn-outline-secondary">contact vendor</a>
                                </div>
                              </div>
                              <br>
                              <small class="text-body-secondary">{{post['time'] | datetimefilter}}</small>
                            </div>
                          </div>
                    </div>
                    {%endfor%}
                </div>
                <span class="carousel-control-prev-icon">
                <button class="carousel-control-prev" type="button" data-bs-target="#carousel-dresses-1" style="color:black;" data-bs-slide="prev">
                    Previous
                </button>
                </span>
                <span class="carousel-control-next-icon">
                <button class="carousel-control-next" type="button" data-bs-target="#carousel-dresses-1" style="color:black;" data-bs-slide="next">
                    Next
                </button>
                </span> -->
    {{macros.footer()}}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
        function showModalImage(src) {
            document.getElementById('modalImage').src = src;
        }
        </script>
</body>

</html>